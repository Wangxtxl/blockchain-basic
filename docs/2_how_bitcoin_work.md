# 比特币工作原理

## 如何持有和使用比特币


作为比较，我们先回顾下现实的银行系统：

1. 首先我们需要使用个人信息（如身份证）给银行，银行给我们开户，开户时确立了我们对该账户的所有权。
2. 进行支付的时候，银行对交易双方账户余额进行增减。

但比特币是一个去中心化的系统，没有这样的第三方，它是如何确定某个账户的比特币是属于谁的？这个问题等同于谁可以使用这个账户的比特币？

在比特币的公共共享总帐本中，记录了所有地址持有的余额，比特币的账户是用地址来表示。 

<details>
  <summary>比特币地址格式</summary>
    <div>目前比特币有三种地址类型：
    <br/>
    1. P2PKH 地址，也叫 “传统地址（Legacy address）”，以数字 “1” 开头，长度为 26 个到 36 个字符， 如：`1ABzp1eP5QGefi2DMPTfTL5SLmv7DivfNa`
    <br/>
    2. P2SH 地址，以数字 “3” 开头, 如：`3FRdnTq18LyNveWa1gQJcgp8qEnzijv5vR` .
    <br/>
    3. P2WPKH 地址，也叫 “Bech32 地址”，是一种高级的地址，以 “bc1” 开头.
  </div>
</details>


当需要转账时，发送一笔类似的交易：

```
    "from"："1ABzp1eP5QGefi2DMPTf..."
    "to"："3FRdnTq18LyNveWa1gQJcgp..."
    "amount"："1btc"
```

当然比特币节点需要这笔交易是谁发起的，只有当由地址 `1ABzp1eP5QGefi2DMPTf...` 发起才是真正有效，因此要求发起人对交易信息进行签名，签名是用地址 `1ABzp1eP5QGefi2DMPTf...` 对应的私钥进行的。

当我们创建一个比特币地址（账户时），会首先生成一个随机数作为私钥，然后根据椭圆曲线算法计算出私钥，然后在根据哈希运算及校验编码得到比特币地址。
公钥及地址是公开的，私钥这是保密的，私钥推导地址的过程也是单向的，无法通过地址反推到公钥及私钥。

因此当我们持有某地址的私钥，就是持有该地址下的比特币，因此私钥必须妥善保管。


## 钱包

在日常使用过程中，通常是借助钱包软件，来操作我们的资产，因此钱包本身不保存资产，资产是在记录比特币网络账本中的（通常称为保存在链上）。
因此，钱包实际是一个管理私钥（生成、存储、签名）的工具。

支持比特币的钱包很多，例如：imToken、Trust Wallet、Math Wallet、Ledger(硬件钱包)、Trezor（硬件钱包）等。
我们应该尽量选择**开源**、**知名度大**、大额资产还可以使用硬件钱包。



### 地址 及 UTXO 

